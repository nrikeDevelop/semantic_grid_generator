<html>

<head>
    <!-- SEMANTIC UI -->
    <link rel="stylesheet" type="text/css" href="./semantic/dist/semantic.min.css">
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
        crossorigin="anonymous"></script>
    <script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
    <script src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script>
    <style>
        body{
                background-color:#F1F1F1;    
            }
        .dcontent{
    
                background-color:#C4D2DA;
                padding:20px;
                border-radius: 9px;
                
            }
    </style>
    <meta charset="UTF-8">
</head>

<div class=" ui center aligned container">

    <div class="ui segment" style="margin-bottom: 50px;margin-top: 10px;">
        <div class="ui form">
            <div class="two fields">
                <div class="field">
                    <input id="input" type="number" placeholder="nº por fila">
                </div>
                <div class="field">
                    <button id="bt_create" class="ui basic button">Crear fila</button>
                </div>
            </div>
        </div>
    </div>

    <div id="grid_parent" class="ui grid " style=" background-color: #D8DDFF"></div>

    <!--modal-->
    <div class="ui longer modal">
        <div class="content">
            <div class="ui form">
                <label>Elementos comunes</label>
                <div class="three fields">
                    <div class="field">
                        <button class="ui basic button" id="add_card">Añadir Card</button>
                    </div>
                    <div class="field">
                        <button class="ui basic button" id="add_table">Añadir Tabla</button>
                    </div>
                    <div class="field">
                        <button class="ui basic button" id="add_graphic">Añadir Gráfica</button>
                    </div>
                </div>
            </div>
            <div class="ui form">
                <div class="two fields">
                    <div class="field">
                        <label>HTML</label>
                        <textarea id="modal_input_html" type="text"></textarea>
                    </div>
                    <div class="field">
                        <label>CSS</label>
                        <textarea id="modal_input_css" type="text"></textarea>
                    </div>
                    <div class="field">
                        <label>CLASS</label>
                        <textarea id="modal_input_class" type="text"></textarea>
                    </div>
                </div>
            </div>
            <br>
            <div class="ui center aligned container">
                <button id="erase_content" class="fluid negative ui button">Borrar contenido</button>
            </div>
            <br>
            <!--
            <label>Nuevo grid</label>
            <div class="ui form">
                <div class="three fields">
                    <div class="field">
                        <input placeholder="Nº filas" id="fill_rows">
                    </div>
                    <div class="field">
                        <input placeholder="Nº columnas" id="fill_columns">
                    </div>
                    <div class="field">
                        <button id="add_fill_grid" class="ui basic button">Añadir grid</button>
                    </div>
                </div>
            </div>
        -->
        </div>
        <div class="actions">
            <div class="ui red basic cancel inverted button">
                <i class="remove icon"></i>
                No
            </div>
            <div id="input_yes" class="ui green ok inverted button">
                <i class="checkmark icon"></i>
                Yes
            </div>
        </div>
    </div>

    <!--menu-->

</div>
</div>

<footer>

    <script src="./semantic/dist/semantic.min.js"></script>
    <script>

        function random(min, max) {
            return Math.floor(Math.random() * (max - min + 1) + min);
        }

        function append_table(selector) {
            var table = `
            <table class="ui five column table">
                <thead>
                    <tr><th>Name</th>
                    <th>Status</th>
                    <th>Age</th>
                    <th>Gender</th>
                    <th>Notes</th>
                </tr></thead>
                <tbody>
                    <tr>
                    <td>John</td>
                    <td>Approved</td>
                    <td>22</td>
                    <td>Male</td>
                    <td>None</td>
                    </tr>
                    <tr>
                    <td>Jamie</td>
                    <td>Approved</td>
                    <td>32</td>
                    <td>Male</td>
                    <td>Requires call</td>
                    </tr>
                    <tr>
                    <td>Jill</td>
                    <td>Denied</td>
                    <td>22</td>
                    <td>Female</td>
                    <td>None</td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr><th>3 People</th>
                    <th>2 Approved</th>
                    <th></th>
                    <th></th>
                    <th></th>
                </tr></tfoot>
            </table>`;

            selector.append(table);

        }

        function append_card(selector) {
            var array_images = new Object();
            array_images[1] = "https://playjoor.com/assets/avatar/helen.jpg";
            array_images[2] = "https://playjoor.com/assets/avatar/jenny.jpg";
            array_images[3] = "https://playjoor.com/assets/avatar/joe.jpg";
            array_images[4] = "https://playjoor.com/assets/avatar/mark.png";
            array_images[5] = "https://playjoor.com/assets/avatar/molly.png";
            array_images[6] = "https://playjoor.com/assets/avatar/nan.jpg";
            array_images[7] = "https://playjoor.com/assets/avatar/patrick.png";
            array_images[8] = "https://playjoor.com/assets/avatar/rachel.png";
            array_images[9] = "https://playjoor.com/assets/avatar/steve.jpg";
            array_images[10] = "https://playjoor.com/assets/avatar/stevie.jpg";


            rnd_image = random(1, 10);

            var card = `
            <div class="ui card">
                <div class="image">
                    <img src="`+ array_images[rnd_image] + `">
                </div>
                <div class="content">
                    <a class="header">Kristy</a>
                    <div class="meta">
                    <span class="date">Joined in 2013</span>
                    </div>
                    <div class="description">
                    Kristy is an art director living in New York.
                    </div>
                </div>
                <div class="extra content">
                    <a>
                    <i class="user icon"></i>
                    22 Friends
                    </a>
                </div>
            </div>
            `;

            selector.append(card);
        }

        function append_graphic(selector) {
            var options = {
                title: {
                    text: "Desktop OS Market Share in 2017"
                },
                subtitles: [{
                    text: "As of November, 2017"
                }],
                animationEnabled: true,
                data: [{
                    type: "pie",
                    startAngle: 40,
                    toolTipContent: "<b>{label}</b>: {y}%",
                    showInLegend: "true",
                    legendText: "{label}",
                    indexLabelFontSize: 16,
                    indexLabel: "{label} - {y}%",
                    dataPoints: [
                        { y: 48.36, label: "Windows 7" },
                        { y: 26.85, label: "Windows 10" },
                        { y: 1.49, label: "Windows 8" },
                        { y: 6.98, label: "Windows XP" },
                        { y: 6.53, label: "Windows 8.1" },
                        { y: 2.45, label: "Linux" },
                        { y: 3.32, label: "Mac OS X 10.12" },
                        { y: 4.03, label: "Others" }
                    ]
                }]
            };
            var graphic = `<div id="chartContainer" style="height: 370px; width: 100%;"></div>`
            selector.append(graphic);
            $("#chartContainer").CanvasJSChart(options);

        }


        var numbers = new Object();
        numbers[1] = "one";
        numbers[2] = "two";
        numbers[3] = "three";
        numbers[4] = "four";
        numbers[5] = "five";
        numbers[6] = "six";
        numbers[7] = "seven";
        numbers[8] = "eight";
        numbers[16] = "sixteen";
        function get_number(k) {
            return numbers[k];
        }

        var n_container = 0;
        $("#bt_create").click(function () {

            //GET NUMBER
            num_dcontent = $('#input').val();
            css_dcontent = get_number(num_dcontent);

            //CREATE VAR ROW AND DEFINE LIKE SELECTOR
            var row = `<div id="row" class="` + css_dcontent + ` column row"></div>`;
            var content_row = $(row);

            var container_content = `
            //CODE
            <div class="grid_fill">
            </div>
            `;

            //CREATE AUX TO CONCATENATE CONTAINERS 
            var i;
            var aux;
            for (i = 1; i <= num_dcontent; i++) {
                n_container++;
                var container = `
                    <div id="column" class="column">
                        <div id="dcontent" class="ui segment">` + container_content + `</div>
                    </div>
                `;
                aux = content_row.append(container);
            };

            $('#grid_parent').append(aux);
        });

        //SELECT DCONTENT
        //--MODAL
        var select_container;
        $(document).on('click', '#dcontent', function () {
            select_container = $(this);
            $('.ui.longer.modal').modal('show');
        });

        $('#add_card').on('click', function () {
            append_card(select_container);
        });

        $('#add_table').on('click', function () {
            append_table(select_container);
        });

        $('#add_graphic').on('click', function () {
            append_graphic(select_container);
        });

        $('#erase_content').on('click', function () {

            select_container.empty();
            select_container.removeClass().addClass("ui segment");
        });

        $('#input_yes').on('click', function () {
            //CSS
            var get_css = $('#modal_input_css').val();
            if (get_css != "") {
                select_container.attr('style', get_css);
                //select_container.html(get_css);
            }

            //HTML
            var get_html = $('#modal_input_html').val();
            if (get_html != "") {
                select_container.empty();
                select_container.append(get_html);
            }

            //CLASS
            var get_class = $('#modal_input_class').val();
            if (get_class != "") {
                select_container.removeClass().addClass(get_class);
            }
        });


        /*
        $('#add_fill_grid').on('click', function () {
            var fill_columns = $('#fill_columns').val();
            var fill_rows = $('#fill_rows').val();

            var fill_container_row = `<div id="fill_row" class="` + get(fill_rows) + ` column row">row</div>`;
            var fill_container_column = `
                    <div id="column" class="column">
                        <div id="dcontent" class=" ui segment">CONTENEDOR HIJO</div>
                    </div>
                `;

            var fill_add_rows;
            var fill_add_columns;
            var aux;
            var i = 0;

            for (i = 1; i <= fill_rows; i++) {
                
                var s = select_container.append(fill_container_row);
                var ss = $(s);
                ss.append("<div>content</div>");    

               
                var j = 0;
                for (j = 1; j <= fill_columns; j++) {
    
                    aux = fill_add_rows.append(fill_container_column);
                } 
               
            }
        });
        */

    </script>
</footer>

</html>